<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="OpenTalkie.View.StreamSettingsPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    Title="stream settings"
    Padding="16">
    <ScrollView>
        <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,*" RowSpacing="16">

            <!--  Name  -->
            <Frame
                Grid.Row="0"
                Padding="16"
                BackgroundColor="{StaticResource CardBackground}"
                BorderColor="{AppThemeBinding Light={StaticResource OutlineLight}, Dark={StaticResource OutlineDark}}"
                CornerRadius="8"
                Shadow="{StaticResource MaterialShadowDark}">
                <HorizontalStackLayout Spacing="12">
                    <HorizontalStackLayout.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding EditNameCommand}" CommandParameter="Name" />
                    </HorizontalStackLayout.GestureRecognizers>
                    <Image
                        HeightRequest="24"
                        Source="name_icon.png"
                        VerticalOptions="Center"
                        WidthRequest="24" />
                    <Grid
                        ColumnDefinitions="*"
                        RowDefinitions="Auto,Auto"
                        RowSpacing="4"
                        VerticalOptions="Center">
                        <Label
                            Grid.Row="0"
                            FontAttributes="Bold"
                            FontSize="16"
                            Text="Name"
                            TextColor="{StaticResource OnSurfaceDark}" />
                        <Label
                            Grid.Row="1"
                            FontSize="14"
                            Text="{Binding Endpoint.Name}"
                            TextColor="{StaticResource OnSurfaceVariantDark}" />
                    </Grid>
                </HorizontalStackLayout>
            </Frame>

            <!--  Hostname  -->
            <Frame
                Grid.Row="1"
                Padding="16"
                BackgroundColor="{StaticResource CardBackground}"
                BorderColor="{AppThemeBinding Light={StaticResource OutlineLight}, Dark={StaticResource OutlineDark}}"
                CornerRadius="8"
                Shadow="{StaticResource MaterialShadowDark}">
                <HorizontalStackLayout Spacing="12">
                    <HorizontalStackLayout.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding EditHostnameCommand}" CommandParameter="Address" />
                    </HorizontalStackLayout.GestureRecognizers>
                    <Image
                        HeightRequest="24"
                        Source="address_icon.png"
                        VerticalOptions="Center"
                        WidthRequest="24" />
                    <Grid
                        ColumnDefinitions="*"
                        RowDefinitions="Auto,Auto"
                        RowSpacing="4"
                        VerticalOptions="Center">
                        <Label
                            Grid.Row="0"
                            FontAttributes="Bold"
                            FontSize="16"
                            Text="Hostname"
                            TextColor="{StaticResource OnSurfaceDark}" />
                        <Label
                            Grid.Row="1"
                            FontSize="14"
                            Text="{Binding Endpoint.Hostname}"
                            TextColor="{StaticResource OnSurfaceVariantDark}" />
                    </Grid>
                </HorizontalStackLayout>
            </Frame>

            <!--  Port  -->
            <Frame
                Grid.Row="2"
                Padding="16"
                BackgroundColor="{StaticResource CardBackground}"
                BorderColor="{AppThemeBinding Light={StaticResource OutlineLight}, Dark={StaticResource OutlineDark}}"
                CornerRadius="8"
                Shadow="{StaticResource MaterialShadowDark}">
                <HorizontalStackLayout Spacing="12">
                    <HorizontalStackLayout.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding EditPortCommand}" CommandParameter="Port" />
                    </HorizontalStackLayout.GestureRecognizers>
                    <Image
                        HeightRequest="24"
                        Source="port_icon.png"
                        VerticalOptions="Center"
                        WidthRequest="24" />
                    <Grid
                        ColumnDefinitions="*"
                        RowDefinitions="Auto,Auto"
                        RowSpacing="4"
                        VerticalOptions="Center">
                        <Label
                            Grid.Row="0"
                            FontAttributes="Bold"
                            FontSize="16"
                            Text="Port"
                            TextColor="{StaticResource OnSurfaceDark}" />
                        <Label
                            Grid.Row="1"
                            FontSize="14"
                            Text="{Binding Endpoint.Port}"
                            TextColor="{StaticResource OnSurfaceVariantDark}" />
                    </Grid>
                </HorizontalStackLayout>
            </Frame>

            <!--  Denoise Switch  -->
            <Frame
                Grid.Row="4"
                Padding="16"
                BackgroundColor="{StaticResource CardBackground}"
                BorderColor="{AppThemeBinding Light={StaticResource OutlineLight}, Dark={StaticResource OutlineDark}}"
                CornerRadius="8"
                Shadow="{StaticResource MaterialShadowDark}">
                <HorizontalStackLayout Spacing="12">
                    <Image
                        HeightRequest="24"
                        Source="denoise_icon.png"
                        VerticalOptions="Center"
                        WidthRequest="24" />
                    <Grid
                        ColumnDefinitions="*,Auto"
                        RowDefinitions="Auto"
                        VerticalOptions="Center">
                        <Label
                            Grid.Column="0"
                            FontAttributes="Bold"
                            FontSize="16"
                            Text="Denoise"
                            TextColor="{StaticResource OnSurfaceDark}"
                            VerticalOptions="Center" />
                        <Switch
                            Grid.Column="1"
                            IsToggled="{Binding Endpoint.IsDenoiseEnabled, Mode=TwoWay}"
                            OnColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}"
                            ThumbColor="{AppThemeBinding Light={StaticResource OnPrimaryLight}, Dark={StaticResource PrimaryDarkText}}"
                            VerticalOptions="Center" />
                    </Grid>
                </HorizontalStackLayout>
            </Frame>

            <!--  Active on Mobile Data Switch  -->
            <Frame
                Grid.Row="5"
                Padding="16"
                BackgroundColor="{StaticResource CardBackground}"
                BorderColor="{AppThemeBinding Light={StaticResource OutlineLight}, Dark={StaticResource OutlineDark}}"
                CornerRadius="8"
                Shadow="{StaticResource MaterialShadowDark}">
                <HorizontalStackLayout Spacing="12">
                    <Image
                        HeightRequest="24"
                        Source="mobile_icon.png"
                        VerticalOptions="Center"
                        WidthRequest="24" />
                    <Grid
                        ColumnDefinitions="*,Auto"
                        RowDefinitions="Auto"
                        VerticalOptions="Center">
                        <Label
                            Grid.Column="0"
                            FontAttributes="Bold"
                            FontSize="16"
                            Text="Active On Mobile Data"
                            TextColor="{StaticResource OnSurfaceDark}"
                            VerticalOptions="Center" />
                        <Switch
                            Grid.Column="1"
                            IsToggled="{Binding Endpoint.AllowMobileData, Mode=TwoWay}"
                            OnColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}"
                            ThumbColor="{AppThemeBinding Light={StaticResource OnPrimaryLight}, Dark={StaticResource PrimaryDarkText}}"
                            VerticalOptions="Center" />
                    </Grid>
                </HorizontalStackLayout>
            </Frame>
            
            <!--  Net Quality  -->
            <Frame
                Grid.Row="3"
                Padding="16"
                BackgroundColor="{StaticResource CardBackground}"
                BorderColor="{AppThemeBinding Light={StaticResource OutlineLight}, Dark={StaticResource OutlineDark}}"
                CornerRadius="8"
                Shadow="{StaticResource MaterialShadowDark}">
                <HorizontalStackLayout Spacing="12">
                    <HorizontalStackLayout.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding EditQualityCommand}" />
                    </HorizontalStackLayout.GestureRecognizers>
                    <Image
                        HeightRequest="24"
                        Source="quality_icon.png"
                        VerticalOptions="Center"
                        WidthRequest="24" />
                    <Grid
                        ColumnDefinitions="*"
                        RowDefinitions="Auto,Auto"
                        RowSpacing="4"
                        VerticalOptions="Center">
                        <Label
                            Grid.Row="0"
                            FontAttributes="Bold"
                            FontSize="16"
                            Text="Net Quality"
                            TextColor="{StaticResource OnSurfaceDark}" />
                        <Label
                            Grid.Row="1"
                            FontSize="14"
                            Text="{Binding DisplayQuality}"
                            TextColor="{StaticResource OnSurfaceVariantDark}" />
                    </Grid>
                </HorizontalStackLayout>
            </Frame>

        </Grid>
    </ScrollView>

    <ContentPage.Resources>
        <Shadow
            x:Key="MaterialShadowDark"
            Brush="#80FFFFFF"
            Opacity="0.2"
            Radius="4"
            Offset="0,2" />
    </ContentPage.Resources>
</ContentPage>
